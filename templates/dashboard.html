{% extends "base.html" %}

{% block content %}
<section style="padding: 2rem 5%;">
    <h2 style="color: var(--primary-color); margin-bottom: 2rem;">Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ø¯Ø§Ù†Ø´Ø¬Ùˆ</h2>
    <p style="font-size: 1.2rem; margin-bottom: 3rem;">Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯ØŒ <strong>{{ current_user.name }}</strong>!</p>

    <!-- Enrolled Courses -->
    <h3 style="color: var(--primary-color); margin-bottom: 1.5rem;">Ø¯ÙˆØ±Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ù†</h3>
    {% if enrolled_courses %}
    <div class="grid" style="margin-bottom: 4rem;">
        {% for course in enrolled_courses %}
        <div class="card">
            <h4>{{ course.title }}</h4>
            <p style="color: var(--text-light); margin: 1rem 0;">{{ course.description }}</p>
            <div style="margin: 1rem 0;">
                <div style="background: #eee; height: 10px; border-radius: 5px; overflow: hidden;">
                    <div
                        style="background: var(--accent-color); height: 100%; width: {{ (course.completed_modules / course.total_modules * 100)|int }}%;">
                    </div>
                </div>
                <p style="margin-top: 0.5rem; color: var(--text-light); font-size: 0.9rem;">
                    {{ course.completed_modules }} Ø§Ø² {{ course.total_modules }} Ù…Ø§Ú˜ÙˆÙ„ ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯Ù‡
                </p>
            </div>
            <a href="{{ url_for('course_detail', course_id=course.id) }}" class="cta-button"
                style="display: inline-block; padding: 0.75rem 1.5rem; margin-top: 1rem;">Ø§Ø¯Ø§Ù…Ù‡ Ø¯ÙˆØ±Ù‡</a>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <p style="color: var(--text-light); margin-bottom: 3rem;">Ø´Ù…Ø§ Ù‡Ù†ÙˆØ² Ø¯Ø± Ù‡ÛŒÚ† Ø¯ÙˆØ±Ù‡â€ŒØ§ÛŒ Ø«Ø¨Øª Ù†Ø§Ù… Ù†Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯.</p>
    {% endif %}

    <!-- Available Courses -->
    <h3 style="color: var(--primary-color); margin-bottom: 1.5rem;">Ø¯ÙˆØ±Ù‡â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ¬ÙˆØ¯</h3>
    {% if available_courses %}
    <div class="grid">
        {% for course in available_courses %}
        <div class="card">
            <div class="card-icon">{% if course.track == 'LLM' %}ðŸ’¬{% else %}ðŸ¤–{% endif %}</div>
            <h4>{{ course.title }}</h4>
            <p style="color: var(--text-light); margin: 1rem 0;">{{ course.description }}</p>
            <p style="color: var(--text-light); font-size: 0.9rem; margin-bottom: 1rem;">{{ course.total_modules }}
                Ù…Ø§Ú˜ÙˆÙ„</p>
            <form method="POST" action="{{ url_for('enroll_course', course_id=course.id) }}">
                <button type="submit" class="cta-button" style="padding: 0.75rem 1.5rem;">Ø«Ø¨Øª Ù†Ø§Ù… Ø¯Ø± Ø¯ÙˆØ±Ù‡</button>
            </form>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <p style="color: var(--text-light);">Ø´Ù…Ø§ Ø¯Ø± ØªÙ…Ø§Ù… Ø¯ÙˆØ±Ù‡â€ŒÙ‡Ø§ Ø«Ø¨Øª Ù†Ø§Ù… Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯!</p>
    {% endif %}
</section>
{% endblock %}